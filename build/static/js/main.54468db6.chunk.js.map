{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseURL","axios","get","newPerson","post","id","delete","updated","put","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","Person","person","deleteFunction","name","number","onClick","Input","label","searchValue","onChangeFunction","value","onChange","event","target","NewPersonForm","newPersonHandler","newNameFunction","newNumberFunction","onSubmit","type","Persons","persons","map","key","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchTerm","setSearchTerm","notification","setNotification","useEffect","personService","then","response","data","deletePerson","window","confirm","filter","curr","addNotification","catch","error","console","log","setTimeout","preventDefault","duplicate","find","concat","length","toUpperCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.54468db6.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseURL)\n}\n\nconst post = newPerson => {\n    return axios.post(baseURL, newPerson)\n}\n\nconst remove = id => {\n    return axios.delete(baseURL + `/${id}`)\n}\n\nconst update = (id, updated) => {\n    return axios.put(baseURL + `/${id}`, updated)\n}\n\nexport default {getAll, post, remove, update}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Notification = ({message}) => {\n  const notificationStyle = {\n      color: 'green',\n      background: 'lightgrey',\n      fontSize: '20px',\n      borderStyle: 'solid',\n      borderRadius: '5px',\n      padding: '10px',\n      marginBottom: '10px',\n  }\n  return (\n    <div style={notificationStyle}>{message}</div>\n  )\n}\n\nconst Error = ({message}) => {\n  const errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px',\n}\nreturn (\n  <div style={errorStyle}>{message}</div>\n)\n}\n\nconst Person = ({ person, deleteFunction }) => {\n  return (\n    <div>{person.name} {person.number} <button onClick={() => deleteFunction(person)}> delete </button></div>\n  )\n}\n\nconst Input = ({ label, searchValue, onChangeFunction }) => {\n  return (\n    <div>\n      {label} <input value={searchValue} onChange={(event) => onChangeFunction(event.target.value)} />\n    </div>\n  )\n}\n\nconst NewPersonForm = ({ newPersonHandler, name, number, newNameFunction, newNumberFunction }) => {\n  return (\n    <div>\n      <form onSubmit={(event) => newPersonHandler(event)}>\n        <Input label={'name: '} searchValue={name} onChangeFunction={newNameFunction} />\n        <Input label={'number: '} searchValue={number} onChangeFunction={newNumberFunction} />\n        <div><button type=\"submit\">add</button></div>\n      </form>\n    </div>\n  )\n}\n\nconst Persons = ({ persons, deleteFunction }) => {\n  return (\n    <div>\n      {persons.map(person => <Person key={person.name} person={person} deleteFunction={deleteFunction} />)}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [notification, setNotification] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => setPersons(response.data))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    const duplicate = persons.find(person => person.name === newPerson.name)\n    if (duplicate && window.confirm(`${newName} is already added to phonebook, replace old number with new one?`)) {\n      personService\n      .update(duplicate.id ,{...duplicate, number:newNumber})\n      .then(response => \n        setPersons(persons.map(person => person.id !== duplicate.id ? person : response.data)))\n      .then(response => addNotification(<Notification message={`Information for ${newName} updated`} />))\n      .catch(response => addNotification(<Error message={`${newName} already deleted`} />))\n    } else {\n      personService\n        .post(newPerson)\n        .then(response => setPersons(persons.concat(response.data)))\n        .then(response => addNotification(<Notification message={`${newName} added`} />))\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(person.id)\n        .then(response => setPersons(persons.filter(curr => curr.id !== person.id)))\n        .then(response => addNotification(<Notification message={`${person.name} removed`} />))\n        .catch(error => {\n          addNotification(<Error message={`Information for ${person.name} has already been deleted from the server`} />)\n          console.log(error)})        \n    }\n  }\n\n  const addNotification = (notification) => {\n    setNotification(notification)\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      {notification}\n      <Input label={'search: '} searchValue={searchTerm} onChangeFunction={setSearchTerm} />\n      <h2>Add new</h2>\n      <NewPersonForm\n        name={newName}\n        number={newNumber}\n        newNameFunction={setNewName}\n        newNumberFunction={setNewNumber}\n        newPersonHandler={addPerson} />\n      <h2>Numbers</h2>\n      {searchTerm.length === 0\n        ? <Persons persons={persons} deleteFunction={deletePerson} />\n        : <Persons persons={persons.filter(person => person.name.toUpperCase().includes(searchTerm.toUpperCase()))} deleteFunction={deletePerson} />\n      }\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}